<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Bookings</title>
    <link href="/tailwind.css" rel="stylesheet">
</head>

<body class="bg-gray-100 font-sans leading-normal tracking-normal">
    <div class="container mx-auto p-6 max-w-screen-xl">
        <!--//page title-->
        <div class="text-center mb-6">
            <h1 class="text-lg font-bold text-gray-800">All Events Bookings</h1>
        </div>

        <!--//bookings presentation-->
        <section class="bg-white rounded shadow p-6 border border-gray-300">
            <% let activeEventDate=null; %>
                <% bookings.forEach((booking, i, allBookings)=> { %>
                    <% if (activeEventDate !==booking.event_date) { %>
                        <% if (activeEventDate) { %>
                            </ul>
                            <hr class="border-gray-300 my-4">
                            <% } %>
                                <article>
                                    <h2 class="text-lg font-semibold text-blue-700 mb-2">
                                        Event: <%= booking.event_title %>
                                    </h2>
                                    <p class="text-sm text-gray-600">
                                        Date: <%= booking.event_date || "Date unavailable" %>
                                    </p>
                                </article>
                                <ul class="space-y-2">
                                    <% activeEventDate=booking.event_date; %>
                                        <% } %>
                                            <!--//display bookings data-->
                                            <li class="text-sm text-gray-700">
                                                Attendee:
                                                <span class="font-semibold">
                                                    <%= booking.attendee_name %>
                                                </span> •
                                                Full-Price Tickets:
                                                <span class="font-semibold">
                                                    <%= booking.full_price_tickets %>
                                                </span> •
                                                Concession Tickets:
                                                <span class="font-semibold">
                                                    <%= booking.concession_tickets %>
                                                </span> •
                                                Booked On:
                                                <span class="font-semibold">
                                                    <%= booking.booking_date %>
                                                </span>
                                            </li>
                                            <% if (i===allBookings.length - 1) { %>
                                </ul>
                                <% } %>
                                    <% }); %>
        </section>

        <!--//Back to organiser home-->
        <div class="mt-6 text-center">
            <a href="/organiser"
                class="px-4 py-2 text-blue-700 border-2 border-blue-700 rounded shadow hover:bg-blue-50 focus:ring focus:ring-blue-300 focus:outline-none text-sm">
                Back to Organiser Home
            </a>
        </div>
    </div>
</body>

</html>